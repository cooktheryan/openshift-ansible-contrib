---
- name: ensure the /etc/gce folder exists
  file: name=/etc/gce state=directory

- name: configure gce cloud config options
  ini_file: dest=/etc/gce/gce.conf section=global option={{ item.key }} value={{ item.value }} state=present create=yes
  with_items:
    - { key: 'project-id', value: '{{ gce_project_id }}' }
    - { key: 'network-name', value: '{{ gce_network_name }}' }
    - { key: 'node-tags', value: 'ocp' }
    - { key: 'node-instance-prefix', value: 'ocp-' }
    - { key: 'multizone', value: 'false' }
